= Kubernetes Java Sample

=== Initial setup

. Start Kubernetes using Vagrant
+
[source, text]
----
cd kubernetes

export KUBERNETES_PROVIDER=vagrant
cluster/kube-up.sh
----

Detailed instructions:
https://github.com/GoogleCloudPlatform/kubernetes/blob/master/docs/getting-started-guides/vagrant.md

=== Java EE 7 application using one Container

. Create Kubernetes cluster
+
[source, text]
----
./cluster/kubectl.sh create -f ../kubernetes-java-sample/javaee7-hol.json
----
+
. Get the host IP address
+
[source, text]
----
./cluster/kubectl.sh get pods | grep javaee7-hol | awk '{ print $5 }'
----
+
Access the application at http://<IP-ADDRESS>:8080/movieplex7

Complete details: http://blog.arungupta.me/javaee7-wildfly-kubernetes-mac-vagrant/


=== Java EE 7 application using two Containers (WildFly and MySQL) and a Service (MySQL)

. Start MySQL
+
[source, text]
----
./cluster/kubectl.sh create -f ../kubernetes-java-sample/mysql.json
----
+
. Publish MySQL Service
+
[source, text]
----
./cluster/kubectl.sh create -f ../kubernetes-java-sample/mysql-service.json
----
+
. Start WildFly
+
[source, text]
----
./cluster/kubectl.sh create -f ../kubernetes-java-sample/wildfly.json
----
+
. Get the WildFly host IP address
+
[source, text]
----
./cluster/kubectl.sh get pods | grep wildfly | awk '{ print $5 }'
----
+
Access the application at http://<IP-ADDRESS>:8080/movieplex7
